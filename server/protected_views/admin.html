<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | THE RAS</title>

    <!-- css stylesheets -->
    <link rel="stylesheet" href="/modal.css">
    <link rel="stylesheet" href="/project.css">
    <link rel="stylesheet" href="/admin.css">

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Montserrat:wght@500;600;700;800&display=swap" rel="stylesheet">
    <!-- SimpleMDE CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css">
    
     <style>
        /* ===== ADMIN DASHBOARD CSS ONLY ===== */
        .dashboard-header {
            text-align: center;
        }
        .tabs {
            display: flex;
            gap: 1rem;
            border-bottom: 2px solid var(--glass-border);
            margin-bottom: 2rem;
        }
        .tab-btn {
            background: none;
            border: none;
            padding: 0.5rem 1rem;
            font-size: 1rem;
            cursor: pointer;
            color: var(--text-secondary);
            border-bottom: 2px solid transparent;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .tab-btn.active {
            color: var(--text-main);
            border-bottom: 2px solid var(--accent-color);
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .admin-projects-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        .inbox-wrapper {
            display: flex;
            gap: 1.5rem;
        }
        .messages-list {
            width: 35%;
            border: 1px solid var(--glass-border);
            border-radius: 0.5rem;
            overflow-y: auto;
            max-height: 600px;
        }
        .message-preview {
            width: 65%;
            border: 1px solid var(--glass-border);
            border-radius: 0.5rem;
            padding: 1rem;
            max-height: 600px;
            overflow-y: auto;
        }
        .message-preview.empty {
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
        }
        /* colouring */
        .message-item.unread {
            background-color: var(--glass-bg);
            font-weight: 600;
        }  
        
:root {
  --primary: #6366f1;
  --text-main: #f8fafc;
  --text-muted: #94a3b8;
  --glass-bg: rgba(255,255,255,0.03);
  --glass-border: rgba(255,255,255,0.05);
  --glass-shadow: 0 8px 32px rgba(0,0,0,0.36);


  /* Spacing */
    --container-padding: 1.5rem;
    --section-spacing: 6rem;
    /* Fonts */
    --font-sans: 'Inter', sans-serif;
    --font-heading: 'Montserrat', sans-serif;
}

/* navebar css */
.navbar {
    position: fixed;
    top: 0;
    width: 100%;
    z-index: 1000;
    height: 70px;
    display: flex;
    align-items: center;
}

.nav-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
}

.logo {
    font-family: var(--font-heading);
    font-size: 1.5rem;
    font-weight: 800;
    color:#6366F1;
}

.logo .dot {
    color: yellow ;
}

.nav-links {
    display: flex;
    gap: 2rem;
    list-style: none;
    align-items: center;
}

.nav-links a {
    font-size: 0.95rem;
    color: var(--text-muted);
}

.nav-links a:hover, .nav-links a.active {
    color: var(--text-main);
}

.hamburger {
    display: none;
    cursor: pointer;
}

/* dashboard container */

/* ---- General Styles ---- */

/* Page background for admin */
body {
  background-color: #0f172a;
  color: var(--text-main);
  font-family: "Inter", sans-serif;
}


/* ---- Admin Buttons ---- */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.75rem 1.5rem;
  border-radius: 10px;
  font-weight: 600;
  cursor: pointer;
  border: none;
  transition: 0.25s;
}

.btn-primary {
  background: linear-gradient(135deg, var(--primary), #3b82f6);
  color: white;
}

.btn-primary:hover {
  opacity: .9;
  transform: translateY(-1px);
}

.btn-danger {
  background: rgba(239,68,68,0.2);
  color: #fca5a5;
}

.btn-danger:hover {
  background: rgba(239,68,68,0.3);
}


/* ---- Tabs (Messages, Projects, Users etc.) ---- */
.tabs {
  display: flex;
  gap: 1rem;
  border-bottom: 1px solid var(--glass-border);
  margin-bottom: 2rem;
}

.tab-btn {
  background: none;
  border: none;
  padding: 1rem 1.5rem;
  color: var(--text-muted);
  cursor: pointer;
  font-weight: 500;
  transition: .25s;
  border-bottom: 2px solid transparent;
}

.tab-btn.active {
  color: var(--primary);
  border-bottom-color: var(--primary);
}

.tab-content {
  display: none;
}

.tab-content.active {
  display: block;
}

/* ---- Toast Notifications ---- */
#contact-success, #contact-error {
  padding: 12px 16px;
  border-radius: 8px;
  font-size: 14px;
  margin-top: 12px;
}

#contact-success {
  background: #d1f7d6;
  color: #125f2e;
}

#contact-error {
  background: #ffe0df;
  color: #8b1c16;
}

/* Utility */
.hidden { display: none; }

.flex-between {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/* ===== ADMIN NAVIGATION BAR ===== */

.admin-navbar {
  width: 100%;
  height: 65px;
  background: var(--glass-bg);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid var(--glass-border);
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 2rem;
  position: sticky;
  top: 0;
  z-index: 100;
}

.admin-navbar .logo {
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--primary);
  font-family: "Montserrat", sans-serif;
}

.admin-navbar .admin-actions {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.admin-navbar button {
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
}
/* ===== PROJECT MODAL ===== */

.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  backdrop-filter: blur(4px);
  background: rgba(0,0,0,0.6);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 200;
}

.modal-overlay.active {
  display: flex;
}

.modal {
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(20px);
  box-shadow: var(--glass-shadow);
  padding: 2rem;
  width: 500px;
  max-width: 90%;
  border-radius: 1rem;
  animation: dropfade 0.25s ease-out;
}

@keyframes dropfade {
  from {
    transform: translateY(-10px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.modal h2 {
  margin-bottom: 1.5rem;
  font-size: 1.5rem;
}

.modal .form-group {
  margin-bottom: 1.2rem;
}

.modal input, .modal textarea {
  width: 100%;
  padding: .75rem 1rem;
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  border-radius: 8px;
  color: var(--text-main);
}

.modal-footer {
  display: flex;
  justify-content: flex-end;
  gap: 1rem;
  margin-top: 1rem;
}
.modal .message {
  margin-top: .5rem;
  font-size: .85rem;
  text-align: center;
}

.modal .success {
  color: #27c76f;
}

.modal .error {
  color: #ff4d4d;
} 


     </style>
</head>
<body>
    <nav class="navbar glass">
        <div class="container nav-container">
            <a href="/" class="logo">THE RAS<span class="dot">.</span></a>
            <div class="flex-center gap-4">
                <span class="badge">Admin Mode</span>
                <button id="logout-btn" class="btn btn-sm btn-danger"><i data-lucide="log-out"></i> Logout</button>
            </div>
        </div>
    </nav>

    <main class="pt-32 pb-20">
        <div class="container">
            <div class="dashboard-header mb-8">
                <h1>Dashboard</h1>
            </div>

            <div class="tabs">
                <button class="tab-btn active" data-tab="projects"><i data-lucide="layout"></i> Projects</button>
                <button class="tab-btn" data-tab="messages"><i data-lucide="mail"></i> Messages</button>
            </div>

            <div id="projects-tab" class="tab-content active">
                <div class="flex-between mb-6">
                    <h3>Manage Projects</h3>
                    <button id="add-project-btn" class="btn btn-primary btn-sm"><i data-lucide="plus"></i> Add Project</button>
                </div>
                <div class="admin-projects-list" id="admin-projects">
                    <!-- Loaded via JS -->
                </div>
            </div>

            <div id="messages-tab" class="tab-content">
                <div class="flex-between mb-6" id="inbox-text">
                    <h3>Inbox <span id="message-count" class="badge-count"></span></h3>
                
                    <div style="display:flex; gap:10px;">
                        <input type="text" id="searchMessages" placeholder="Search..." 
                            style="padding:8px 14px;border-radius:8px;border:1px solid var(--glass-border);background:var(--glass-bg);color:white;">
                        
                        <select id="sortMessages" 
                            style="padding:8px 14px;border-radius:8px;border:1px solid var(--glass-border);background:var(--glass-bg);color:white;">
                            <option value="latest">Latest</option>
                            <option value="oldest">Oldest</option>
                        </select>
                    </div>
                </div>

            
                <div class="inbox-wrapper">
                 
                 <!-- Left Inbox List -->
                 <div class="messages-list" id="admin-messages">
                     <!-- Loaded via JS -->
                 </div>
            
                 <!-- Right Message Preview -->
                 <div id="message-preview" class="message-preview empty">
                     <p>Select a message to read.</p>
                 </div>
            
                </div>
            </div>

        </div>
    </main>

    <!-- Project Modal -->
    <div class="modal-overlay" id="project-modal">
        <div class="modal-content glass-card">
            <div class="modal-header">
                <h3 id="modal-title">Add Project</h3>
                <button class="close-modal" id="close-modal">&times;</button>
            </div>
            <form id="project-form">
            
               <input type="hidden" id="project-id">
            
               <!-- Title -->
               <div class="form-group">
                   <label for="p-title">Project Title</label>
                   <input type="text" id="p-title" required placeholder="Project Name">
               </div>
            
               <!-- Short Description -->
               <div class="form-group">
                   <label for="p-desc">Short Description</label>
                   <textarea id="p-desc" required placeholder="Brief project summary..." style="min-height: 80px;"></textarea>
               </div>
            
               <!-- Markdown Editor -->
               <div class="markdown-container">
                   <h3 class="markdown-header">
                       <i data-lucide="edit"></i> Detailed Description (Markdown)
                   </h3>
                   
                   <textarea id="editor"></textarea>
            
                   <!-- Live Preview -->
                   <h3 class="markdown-header" style="margin-top:20px;">
                       <i data-lucide="eye"></i> Live Preview
                   </h3>
                   <div id="preview" class="markdown-preview">Start typing to see preview...</div>
               </div>
            
               <!-- Tech Stack -->
               <div class="form-group">
                   <label for="p-tech">Tech Stack (comma separated)</label>
                   <input type="text" id="p-tech" placeholder="React, Node.js, MongoDB">
               </div>
            
               <!-- Image URL -->
               <div class="form-group">
                   <label for="p-image">Image URL</label>
                   <input type="url" id="p-image" placeholder="https://example.com/image.jpg">
               </div>
               <div class="form-group">
                   <label for="p-githublink">GitHub Repo URL</label>
                   <input type="url" id="p-githublink" placeholder="git@github.com:username/repositoryname.git">
               </div>
            
               <!-- Submit -->
               <button type="submit" class="btn btn-primary w-full">Save Project</button>
            </form>
            
        </div>
    </div>
    <!-- SimpleMDE JavaScript -->
    <script src="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js"></script>
    
    <!-- Marked.js for Markdown Preview -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="/js/config.js"></script>

    <script>
        lucide.createIcons();
    </script>
    <script src="/admin.js"></script>
</body>
</html>